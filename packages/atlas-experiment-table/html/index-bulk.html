<!DOCTYPE html>
<html lang="en">
<head>
    <title>Experiment table: bulk demo</title>

    <link rel="stylesheet" href="https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/css/ebi-global.css"
          type="text/css" media="all"/>
    <link rel="stylesheet" href="https://ebi.emblstatic.net/web_guidelines/EBI-Icon-fonts/v1.3/fonts.css"
          type="text/css" media="all"/>
    <link rel="stylesheet" href="https://www.ebi.ac.uk/gxa/sc/resources/css/theme-atlas.css" type="text/css"
          media="all">
</head>

<body>
<div id="wrapper" class="row expanded">
    <div id="content" class="small-12 columns">
        <div id="target">
        </div>
    </div>
</div>
</body>

<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="../dist/vendors.bundle.js"></script>
<script src="../dist/experimentTable.bundle.js"></script>
<script>
  $.getJSON('./experiments-bulk.json').done(
    function(data) {
      experimentTable.render(
        {
          // Set to http://localhost:8080/gxa/ or http://localhost:8080/gxa_sc/ -- Remember the trailing slash!
          host: 'http://localhost:8080/gxa/',
          tableHeader: [
            {
              type: 'sort',
              title: 'Type',
              width: 1,
              dataParam: 'experimentType',
              image: {
                Differential: {
                  src: 'http://localhost:8080/gxa/resources/images/experiments-table/differential.png',
                  alt: 'Differential experiment'
                },
                Baseline: {
                  src: 'http://localhost:8080/gxa/resources/images/experiments-table/baseline.png',
                  alt: 'Baseline experiment'
                }
              }
            },
            {
              type: 'sort',
              title: 'Load date',
              width: 1,
              dataParam: 'lastUpdate'
            },
            {
              type: 'search',
              title: 'Species',
              width: 1,
              dataParam: 'species'
            },
            {
              type: 'search',
              title: 'Description',
              width: 2,
              dataParam: 'experimentDescription',
              link: 'experimentAccession',
              resource: 'experiments',
              endpoint: 'Results'
            },
            {
              type: 'sort',
              title: 'Assays',
              width: 1,
              dataParam: 'numberOfAssays',
              link: 'experimentAccession',
              resource: 'experiments',
              endpoint: 'Experiment%20Design'
            },
            {
              type: 'search',
              title: 'Factors',
              width: 1.25,
              dataParam: 'experimentalFactors'
            },
            {
              type: 'sort',
              title: 'Technology',
              width: 1.5,
              dataParam: 'technologyType'
            }
          ],
          dropdownFilters: [
            {
              label: 'Kingdom',
              dataParam: 'kingdom'
            },
            {
              label: 'Experiment Type',
              dataParam: 'experimentType'
            }
          ],
          downloadTooltip:
            '<ul>' +
              '<li>Expression matrices in TPMs or log<sub>2</sub>fold-change</li>' +
              '<li>Experiment design file with experimental metadata</li>' +
            '</ul>',
          enableDownload: true,
          experiments: data
        },
        'target'
      );
    }
  );
</script>

</html>
